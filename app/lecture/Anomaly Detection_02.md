# FM Safety 퓨즈 검수 AI 강의 - 번외편
## ⚡ 빠른 참고 가이드 (5분 요약)

---

## 📊 한눈에 비교표

### 기본 정보

| 항목 | YOLO+ResNet | Anomaly Detection | 승자 |
|-----|-----------|------------------|-----|
| **학습 방식** | Supervised (지도학습) | Unsupervised (비지도학습) | - |
| **필요 데이터** | 양품 + 불량품 (모두) | 양품만 | ⭐ Anomaly |
| **라벨링 필요** | YES (각 100시간+) | NO (자동) | ⭐ Anomaly |
| **개발 시간** | 3-4개월 | 2-3주 | ⭐ Anomaly |

---

### 성능 지표

| 항목 | YOLO+ResNet | Anomaly Detection | 우위 |
|-----|-----------|------------------|-----|
| **정상 감지율** | 99.8% | 97.2% | ✓ YOLO |
| **불량 감지율** | 99.5% | 96.2% | ✓ YOLO |
| **새 불량 감지** | ✗ (못 함) | ✓ (자동 감지) | ✓ Anomaly |
| **위치 특정** | ✓ (bbox) | ✗ (모름) | ✓ YOLO |
| **분류 정확도** | 96.8% | N/A | ✓ YOLO |

---

### 처리 성능

| 항목 | YOLO+ResNet | Anomaly Detection | 우위 |
|-----|-----------|------------------|-----|
| **처리 속도 (ms)** | 57ms | 23ms | ✓ Anomaly (2.5배) |
| **모델 크기 (MB)** | 340MB | 50MB | ✓ Anomaly (1/7) |
| **메모리 사용 (GB)** | 12GB | 4GB | ✓ Anomaly |
| **실시간성** | 보통 | 우수 | ✓ Anomaly |

---

### 비용 분석

| 항목 | YOLO+ResNet | Anomaly Detection | 절감 |
|-----|-----------|------------------|-----|
| **개발 인력 (시간)** | 220시간 | 50시간 | **-77%** |
| **하드웨어 (초기)** | $2,000 | $500 | **-75%** |
| **연간 전력비** | $2,400 | $850 | **-65%** |
| **총 초기비용** | $14,000 | $3,000 | **-79%** |

---

## ✅ 선택 가이드

### YOLO+ResNet을 선택해야 할 때

```
✓ 불량 타입이 명확하고 고정적
  예: 자동차 퓨즈 (5-10가지 불량만 반복)

✓ 정확도 99.5% 이상 필수
  예: 의료/항공우주 부품 (사람 목숨과 관련)

✓ 결함의 "위치"가 중요함
  예: 자동 로봇이 특정 위치를 수리해야 함

✓ 결함의 "종류"를 알아야 함
  예: 고객에게 상세 리포트 제공해야 함

✓ 불량품을 충분히 모을 수 있음
  예: 불량률이 1% 이상 (데이터 충분)
```

### Anomaly Detection을 선택해야 할 때

```
✓ 새로운 제품이 자주 출시됨
  예: 스타트업 (매달 새로운 제품)

✓ 새로운 불량 타입이 자주 나타남
  예: 공급처가 여러 개 (매번 다른 결함)

✓ 불량품을 모으기 어려움
  예: 불량률 < 0.1% (데이터 부족)

✓ 빠른 개발이 필수
  예: 시장 진입 시간이 중요 (2주 안에 필요)

✓ 불량의 "정확한 분류"가 불필요
  예: 그냥 "정상/비정상" 판정만 필요

✓ 처리 속도가 매우 중요
  예: 초당 50개 이상 처리 필요
```

---

## 🏆 최고의 선택: 하이브리드 2단계

```
시스템 구성:
┌─────────────────────────────────┐
│ 1단계: Anomaly Detection (23ms) │
├─────────────────────────────────┤
│ • 95% 이미지 → 정상 판정 ✓      │
│ • 5% 이미지 → 2단계로            │
└─────────────────────────────────┘
           ↓
┌─────────────────────────────────┐
│ 2단계: YOLO+ResNet (75ms)       │
├─────────────────────────────────┤
│ • 불량품 세부 분석               │
│ • 위치 특정                       │
│ • 종류 분류                       │
└─────────────────────────────────┘

효과:
✓ 평균 처리 시간: 26.6ms (순수 YOLO보다 54% 빠름)
✓ 새로운 불량 자동 감지
✓ 정확도 유지: 99.5%+
✓ 2배 빠른 개발

→ 최고의 선택! 🏆
```

---

## 💡 FM Safety의 최적 로드맵

### 현재 (2026년 1월)
✓ YOLO+ResNet 안정적 운영 중
✓ 신뢰도 99.5% 달성

### Phase 1 (2026년 1-2월)
→ Anomaly Detection 모델 개발 (병렬 테스트)
→ 목표: 두 모델 비교 검증

### Phase 2 (2026년 2-3월)
→ 2단계 하이브리드 시스템으로 전환
→ 효과: 60% 빠른 처리, 새 불량 감지

### Phase 3+ (2026년 3월 이후)
→ 클라우드 동기화
→ 다중 공장 확장
→ 99.99% 신뢰도 목표

---

## 🔬 기술 깊이 들어가기

### Reconstruction Error 이해하기

```
정상 제품:
┌────────────────────┐
│ 원본 이미지         │
│ [0.5, 0.7, 0.3...] │ ← Autoencoder 통과
└────────────────────┘
           ↓
┌────────────────────┐
│ 재구성 이미지       │
│ [0.51, 0.68, 0.31] │ ← 거의 같음!
└────────────────────┘

Error = √((0.5-0.51)² + (0.7-0.68)² + ...) 
      = 0.012 (작음)

─────────────────────────────────

비정상 제품 (불량):
┌────────────────────┐
│ 원본 이미지         │
│ [... 불량 패턴 ...] │ ← 학습 안 한 패턴
└────────────────────┘
           ↓
┌────────────────────┐
│ 재구성 이미지       │
│ [... 정상 패턴 ...] │ ← 정상으로 복원
└────────────────────┘

Error = 0.089 (큼)

결론: Error > 임계값(0.05) → "이상!" ✓
```

---

### One-Class SVM vs Autoencoder

| 특성 | One-Class SVM | Autoencoder |
|-----|--------------|-----------|
| **원리** | 양품 경계 그리기 | 양품 패턴 학습 |
| **속도** | 빠름 | 느림 |
| **확장성** | 약함 | 우수 |
| **높은 차원** | 약함 | 우수 |
| **이미지 처리** | 약함 | 우수 |
| **용도** | 센서 데이터 | 이미지 |

---

## 📚 다음 공부 주제

### Level 1 (기초)
- [ ] 정규분포와 이상탐지 개념
- [ ] MSE (Mean Squared Error) 이해
- [ ] Reconstruction Error 계산

### Level 2 (중급)
- [ ] Autoencoder 구조와 원리
- [ ] One-Class SVM 개념
- [ ] Isolation Forest 알고리즘

### Level 3 (고급)
- [ ] Variational Autoencoder (VAE)
- [ ] Generative Adversarial Networks (GAN)
- [ ] Semi-supervised Learning

### Level 4 (실무)
- [ ] TensorFlow로 Anomaly Detection 구현
- [ ] PyTorch Lightning 사용
- [ ] 모델 배포 (ONNX, TensorRT)

---

## 🎓 학생 체크리스트

### 이번 강의에서 배운 것

- [ ] YOLO+ResNet은 무엇인가?
- [ ] Anomaly Detection은 무엇인가?
- [ ] 데이터 준비 방식의 차이 (양품만 vs 양품+불량품)
- [ ] 성능 비교 (정확도 vs 속도)
- [ ] 비용 분석 (개발 시간 vs 하드웨어)
- [ ] 각 방식의 장단점
- [ ] 상황별 선택 기준
- [ ] 하이브리드 2단계 시스템

### 다음 액션

- [ ] 우리 회사에서 어떤 방식이 최적인지 분석
- [ ] Anomaly Detection 모델 구현해보기
- [ ] 성능 비교 실험 설계
- [ ] 팀원에게 이 내용 설명해보기

---

## 💬 자주 하는 질문 (FAQ)

### Q1. 근데 Anomaly Detection은 왜 정확도가 낮아?

**A:** Autoencoder는 "정상 패턴"만 학습하기 때문에, 불량품과의 경계가 명확하지 않을 수 있습니다.
- YOLO는 "이건 결함이다"를 명확하게 학습
- Anomaly는 "이건 정상이 아니다"만 감지
- 따라서 정확도는 YOLO가 더 높음

### Q2. 하이브리드로 하면 비용이 더 많지 않나?

**A:** 처음에는 두 모델을 다 만들어야 하지만, 장기적으로 봤을 때:
- 개발 시간 절약 (병렬 개발)
- 유지보수 비용 감소
- 확장성 증가
- 결과적으로 더 저렴

### Q3. 정말 양품만으로 불량을 감지할 수 있나?

**A:** 네, 가능합니다! 원리:
```
정상 = 압축했다가 풀어도 같음
비정상 = 압축했다가 풀면 달라짐

따라서 "복원 오류"로 이상을 감지 가능
```

### Q4. 우리도 지금부터 Anomaly Detection을 해야 하나?

**A:** 상황에 따라 다릅니다:
- 지금 YOLO+ResNet이 잘 작동 중 → 유지하되 백업용으로 개발
- 새로운 제품이 곧 출시 → Anomaly Detection 먼저 선택
- 최고의 성능을 원함 → 하이브리드 2단계로 시작

---

## 📞 더 배우고 싶다면?

### 추천 자료

1. **학술 논문**
   - "Anomaly Detection for Industrial Inspection using Convolutional Autoencoder" (2022)
   - "CutPaste: Self-Supervised Learning for Anomaly Detection" (2021)

2. **온라인 강의**
   - Coursera: "Unsupervised Learning"
   - Udacity: "Deep Learning Nanodegree"

3. **오픈소스 프로젝트**
   - MVTec AD Dataset (이미지 기반 이상탐지 데이터셋)
   - AnomalyHub (다양한 Anomaly Detection 알고리즘)

---

**번외편 끝! 🎉**

이제 당신은 상황에 맞는 최적의 검사 시스템을 선택할 수 있습니다!
