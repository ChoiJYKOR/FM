# FM 퓨즈 검수 AI 강의 시리즈 | 1부
## "컴퓨터 눈으로 보는 완벽한 품질 검사"

---

## 📚 **강의 목표**
**이 1부를 끝내면 당신도 알 수 있어요:**
- "왜 인간의 눈으로만 검사하면 안 될까?"
- "컴퓨터는 어떻게 이미지를 본다는 거야?"
- "AI가 퓨즈 결함을 찾는 기본 원리가 뭔데?"

---

# **섹션 1: 왜 AI 검사가 필요할까?**

## 🏭 **FM의 현실: 인간 검사의 한계**

### **상황 1: 속도의 벽**
```
인간 검사원:
├─ 한 시간에 검사 가능: 500~1,000개
├─ 휴식 필요: 8시간 근무 후 피로
├─ 야근 불가: 저녁 조금만 일해도 실수↑
└─ 연간 가능: 약 200만개

FM 생산량:
├─ 한 달: 72만개
├─ 한 해: 864만개
├─ 검사원 필요: 43명 (엄청 많음!)
└─ 비용: 월 2억 원 이상
```

### **상황 2: 정확도의 벽**
```
인간의 눈:
├─ 피로하면 50% 실수율
├─ 같은 결함도 "크기 판단"이 다름
└─ 심리 상태에 따라 판단 기준 변함

결과: 같은 불량품도 합격시킬 수 있음! ❌
```

### **상황 3: 일관성의 벽**
```
아침 9시 검사: "이건 합격!"
점심 후 13시 검사: "어? 이건 불량인데?"
(같은 제품인데 시간마다 다른 판단)
```

---

## 🤖 **AI 검사가 해결하는 것**

### **1️⃣ 속도 문제 해결**
```
AI 비전 검사:
├─ 초당 10~30개 검사 가능
├─ 24시간 쉬지 않음 (피로 없음)
├─ 연간: 약 3억개 검사 가능!
└─ 비용: 초기 투자 후 거의 무료

결과: 검사원 1명 = AI 2~3명
```

### **2️⃣ 정확도 문제 해결**
```
AI 비전:
├─ 마이크로 단위로 정밀하게 측정 (±0.05mm)
├─ 피로 없음 → 항상 99.2% 이상 정확
├─ 기준 변경 없음 → 일관된 판단
└─ 숨겨진 결함도 찾음

결과: 불량품 놓치는 일 없음! ✅
```

### **3️⃣ 일관성 문제 해결**
```
AI는 항상 같은 기준으로 판단:

프레임 #1: "표면 스크래치 0.1mm 발견 → 불량!"
프레임 #2: "표면 스크래치 0.1mm 발견 → 불량!"
프레임 #3: "표면 스크래치 0.1mm 발견 → 불량!"

100% 일관성! ✅
```

---

## 💡 **현실 예시: FM 퓨즈 검사**

### **인간이 놓칠 수 있는 결함들**
```
❌ 금속 캡의 미세 손상 (육안으로 안 보임)
❌ 와이어가 1mm 꺾여 있음 (약간만 꺾여서 모름)
❌ 유리 표면의 마이크로 크랙 (광학 검사 필요)
❌ 색상이 약간 다른 부분 (피로하면 못 본다)
❌ 불규칙한 글자 마킹 (세세한 부분)
```

### **AI는 모두 찾는다**
```
✅ ±0.05mm 정밀도로 형태 검사
✅ RGB 색상을 픽셀 단위로 비교
✅ 조명 변화와 관계없이 일관된 판단
✅ 숨겨진 결함의 패턴까지 학습
```

---

# **섹션 2: 컴퓨터의 눈, 카메라와 렌즈**

## 👁️ **AI 검사의 첫 단계: "보기"**

> **핵심: AI도 사물을 봐야 합니다!**

### **인간의 눈 vs 컴퓨터의 눈**

```
┌─────────────────────┬──────────────────────┐
│   인간의 눈          │  컴퓨터의 눈         │
├─────────────────────┼──────────────────────┤
│ 망막 → 뇌 처리       │ 카메라 → GPU 처리    │
│ 해상도: 576MP        │ 해상도: 설정 가능    │
│ (인간 눈이 볼 수     │ (1000MP 가능!)       │
│  있는 수준)          │                      │
│ 색상: RGB (3채널)   │ 색상: RGB or         │
│                      │ Grayscale (선택)     │
│ 응답: 10-20ms       │ 응답: 1-5ms ⚡      │
│ 야간: 안 본다        │ 야간: IR 카메라      │
│ 약 70°로 본다        │ 필요시 190° 가능     │
└─────────────────────┴──────────────────────┘
```

## 📷 **FM 퓨즈 검사에 필요한 카메라**

### **카메라 선택 기준**
```
FM 퓨즈 크기: 길이 95mm, 너비 30mm
필요 해상도: 최소 2048 x 1536 (3MP 이상)

추천 카메라:
├─ 산업용 카메라 (GigE Vision)
├─ 해상도: 5MP~8MP (충분함)
├─ 프레임률: 30fps 이상 (초당 30개 검사)
├─ 색상: RGB (색상 이상 검사)
└─ 비용: 100만 원대
```

### **FM이 사용하는 카메라 구성**
```
검사 라인 (Inspection Line)
│
├─ 카메라 1 (정면 검사)
│  └─ 퓨즈 전체 형태 확인
│
├─ 카메라 2 (옆면 검사)
│  └─ 와이어 위치, 캡 상태 확인
│
├─ 카메라 3 (색상 검사)
│  └─ 글자 마킹, 표면 손상 확인
│
└─ 조명 시스템
   ├─ LED 링 조명 (정면)
   ├─ 백라이트 (음영 검사)
   └─ UV 조명 (미세한 크랙 감지)

총 3개 카메라 = 360° 완벽 검사! ✅
```

---

## 🎥 **카메라가 보는 것**

### **컴퓨터에게 이미지란?**

**인간:** "오, 이건 퓨즈네. 빨간색이고 깔끔하네."

**컴퓨터:**
```
이미지 = "숫자의 격자판" (픽셀)

가로 2048 x 세로 1536 = 314만 개의 숫자!

예시 (작은 부분):
┌─────────┬─────────┬─────────┐
│ R:255   │ R:254   │ R:200   │  ← 빨간색 채널
│ G:0     │ G:1     │ G:50    │  ← 초록색 채널
│ B:0     │ B:0     │ B:100   │  ← 파란색 채널
└─────────┴─────────┴─────────┘

각 픽셀: RGB 3개 숫자 = "색상"
전체: 314만 픽셀 x 3채널 = 942만 개 숫자!
```

### **인간과 AI의 해석 차이**

```
같은 이미지를 봤는데:

인간 (1초):
"음, 이 부분이 약간 이상해 보이는데...
 불량인지 합격인지 잘 모르겠네."

AI (0.05초):
"이 부분의 픽셀값이 정상 범위 밖임!
 불량 확률 98.7%"

AI가 100배 빠르고 정확! ⚡
```

---

# **섹션 3: 이미지를 숫자로 변환하기**

## 🔢 **"이미지 전처리" - AI가 이해하는 형태로 준비**

> **핵심: 카메라가 본 것을 AI가 이해할 수 있게 정리하는 단계**

### **1단계: 이미지 정규화 (Normalization)**

```
원본 이미지의 숫자:
├─ 가장 밝은 부분: 255 (흰색)
├─ 중간: 128 (회색)
└─ 가장 어두운 부분: 0 (검은색)

AI가 배우기 쉬운 형태로 변환:
├─ 가장 밝은 부분: 1.0
├─ 중간: 0.5
└─ 가장 어두운 부분: 0.0

왜? AI는 0~1 범위에서 더 빨리 학습함!
```

### **2단계: 이미지 크기 조정 (Resizing)**

```
FM 카메라가 찍은 원본:
2048 x 1536 픽셀 (314만 개 픽셀)
→ 너무 크면 AI 처리 느림!

AI가 원하는 크기:
640 x 640 픽셀로 조정
(YOLO 표준 입력 크기)

결과:
├─ 처리 속도: 3배 빨라짐 ⚡
├─ 정확도: 99.2% 유지 ✅
└─ 메모리: 1/10 사용
```

### **3단계: 데이터 증강 (Data Augmentation)**

```
같은 퓨즈를 여러 각도/조건으로 보여주기:

원본 이미지 ↓
├─ 조금 회전 (+5°, -5°)
├─ 조금 어둡게 (밝기 -10%)
├─ 조금 밝게 (밝기 +10%)
├─ 좌우 반전
└─ 줌인 (+10%)

효과:
├─ 1장의 이미지 → 10장의 학습 데이터
├─ AI가 더 강력해짐 (과적합 방지)
└─ 현실의 다양한 상황에 대응 가능
```

---

## 📊 **FM 퓨즈 검사 데이터셋 예시**

```
수집한 이미지:
├─ 정상 퓨즈: 5,000장
├─ 와이어 손상: 1,200장
├─ 색상 불량: 800장
├─ 마킹 오류: 600장
├─ 캡 손상: 400장
└─ 총합: 8,000장

데이터 증강 후:
8,000 x 5배 = 40,000장!
(AI 학습에 충분함)
```

---

# **섹션 4: AI의 뇌, CNN (Convolutional Neural Network)**

## 🧠 **"합성곱 신경망"이 뭐라고?**

> **쉽게 말해: 사진을 작은 패턴들로 분해해서 이해하는 방식**

### **인간의 뇌 vs AI의 뇌**

```
인간이 퓨즈를 인식하는 과정:
┌─────────────────────────────────────┐
│ 1. 눈에 들어옴                       │
│ 2. "빨간색 막대다" (색상 인식)       │
│ 3. "양쪽에 캡이 있네" (구조 인식)    │
│ 4. "이건 전자부품이겠다" (패턴 인식) │
│ 5. "아! 퓨즈다!" (최종 판단)         │
└─────────────────────────────────────┘

AI의 CNN이 퓨즈를 인식하는 과정:
┌─────────────────────────────────────┐
│ 1. 픽셀 값 받음                       │
│ 2. 엣지(모서리) 찾기 (1차 패턴)      │
│ 3. 모서리들 조합 → 도형 (2차)        │
│ 4. 도형들 조합 → 특징 (3차)          │
│ 5. 특징 분석 → "퓨즈!" (최종)        │
└─────────────────────────────────────┘
```

### **CNN의 핵심: "필터(Filter)"**

```
필터란? 작은 렌즈처럼 이미지의 일부를 본다는 뜻

예시: 엣지 감지 필터
┌───────┬───────┬───────┐
│ -1    │  0    │  +1   │
├───────┼───────┼───────┤
│ -2    │  0    │  +2   │
├───────┼───────┼───────┤
│ -1    │  0    │  +1   │
└───────┴───────┴───────┘

이 3x3 필터를 이미지 위에서 미끄러뜨리면서
모서리(엣지)를 감지!

마치 돋보기로 한 부분씩 자세히 보는 것처럼!
```

### **CNN 작동 원리 (FM 퓨즈 예시)**

```
1단계: 입력 이미지
┌──────────────────┐
│ 640 x 640 픽셀   │
│ (퓨즈 전체)       │
└──────────────────┘
          ↓
2단계: 첫 번째 필터 적용 (엣지 감지)
┌──────────────────┐
│ 320 x 320        │
│ (모서리 강조)     │
└──────────────────┘
          ↓
3단계: 두 번째 필터 적용 (질감 감지)
┌──────────────────┐
│ 160 x 160        │
│ (표면 패턴 강조)  │
└──────────────────┘
          ↓
4단계: 세 번째 필터 적용 (형태 감지)
┌──────────────────┐
│ 80 x 80          │
│ (구조 특징)       │
└──────────────────┘
          ↓
5단계: 최종 판단
"정상" or "불량" (확률 표시)
```

---

## 🎯 **FM 퓨즈 검사에 CNN을 쓰는 이유**

### **결함별 CNN이 감지하는 패턴**

```
1️⃣ 와이어 손상 감지
   필터: 직선 패턴 감지
   CNN: "중앙의 검은 선이 끊겼네? → 불량!"

2️⃣ 캡 손상 감지
   필터: 원형 패턴 감지
   CNN: "양쪽 끝이 비대칭? → 불량!"

3️⃣ 표면 스크래치 감지
   필터: 미세한 선 패턴 감지
   CNN: "표면 텍스처가 다른 부분 있음 → 불량!"

4️⃣ 색상 이상 감지
   필터: RGB 색상값 비교
   CNN: "빨간색이 기준 범위 밖 → 불량!"

5️⃣ 마킹 오류 감지
   필터: 텍스트 패턴 감지
   CNN: "글자가 겹쳐있다? → 불량!"
```

---

# **섹션 5: CNN이 배우는 과정**

## 📚 **"학습(Training)"이 뭐라고?**

> **핵심: AI에게 "이건 정상, 이건 불량"이라고 가르치는 과정**

### **인간의 학습 vs AI의 학습**

```
인간이 "차 운전"을 배우는 과정:
1. 교관이 설명 (이론)
2. 실제로 해본다 (연습)
3. 실수하고 고친다 (피드백)
4. 여러 상황에서 반복 (경험)
5. 마침내 혼자 할 수 있다 (숙달)
(총 2~3주 소요)

AI의 CNN이 "결함 검사"를 배우는 과정:
1. 정상/불량 이미지 40,000장 입력
2. CNN 초기 필터값 무작위로 설정
3. 이미지 입력 → 판단 → 틀림
4. 틀린 정도를 계산 (손실함수, Loss)
5. 필터값 미세 조정 (역전파, Backpropagation)
6. 3~5번 반복 (200~500회 반복)
7. 최종 정확도: 99.2%
(총 2~4시간 소요)
```

### **학습 과정 시각화**

```
Epoch 1:     정확도: 65% (막 시작)
Epoch 10:    정확도: 82% (배우는 중)
Epoch 50:    정확도: 95% (거의 다 배움)
Epoch 100:   정확도: 98.5% (거의 완성)
Epoch 200:   정확도: 99.2% (완성!)

각 Epoch마다:
├─ 40,000개 이미지 모두 입력
├─ 각 이미지마다 필터값 조정
├─ 전체 시간: 10~20분
└─ 누적 계산량: 800만 번의 계산!
```

---

## 🔧 **"손실함수(Loss Function)" - AI가 자신의 실수를 아는 방법**

```
손실함수 = AI의 "자기 평가" 도구

예시:
┌─────────────────────────────────────────┐
│ 이미지 분석 결과:                        │
│ AI 판단: "90% 확률로 정상"              │
│ 실제: 불량                             │
│                                         │
│ 손실 계산:                              │
│ "어? 내가 90%로 정상이라고 했는데       │
│  실제로는 불량이네?"                    │
│                                         │
│ 손실값: 매우 높음 ❌                     │
│                                         │
│ AI의 반응:                              │
│ "아, 내가 틀렸다. 필터값을 바꿔야겠다." │
└─────────────────────────────────────────┘

손실값이 낮을수록 → AI가 잘하고 있다는 뜻!
```

---

# **섹션 6: CNN 구조 (YOLO의 기초)**

## 🏗️ **CNN의 내부 구조**

```
CNN = 여러 "층(Layer)"이 쌓인 구조

입력 이미지 (640x640)
      ↓
   ↓ 합성곱층 (Convolutional Layer)
   ↓ 풀링층 (Pooling Layer)
   ↓ 활성화층 (Activation Layer)
      ↓
   ↓ 합성곱층
   ↓ 풀링층
   ↓ 활성화층
      ↓
   ↓ (반복 10~20번)
      ↓
   ↓ 완전 연결층 (Fully Connected Layer)
   ↓ 소프트맥스층 (Softmax Layer)
      ↓
결과: "정상" or "불량" (확률)
```

### **각 층의 역할**

```
1️⃣ 합성곱층 (Convolutional)
   역할: 필터로 패턴 감지
   입력: 640x640 이미지
   필터 개수: 32개 (다양한 패턴을 찾기 위해)
   출력: 32개의 특징 지도

2️⃣ 풀링층 (Pooling)
   역할: 불필요한 정보 버림, 크기 축소
   입력: 640x640
   방식: 2x2 영역의 최댓값만 선택
   출력: 320x320 (절반으로!)

3️⃣ 활성화층 (ReLU)
   역할: 음수 값을 0으로 변환 (비선형성 추가)
   입력: -100 ~ 100
   출력: 0 ~ 100 (음수 제거)

4️⃣ 완전 연결층
   역할: 특징을 모아서 최종 판단
   입력: 모든 특징 (수백만 개)
   출력: 결함 확률
   예: "정상 92%, 불량 8%"
```

---

# **최종 요약: 1부 정리**

## ✅ **당신이 배운 것**

```
1️⃣ AI 검사가 필요한 이유
   - 인간의 피로 극복
   - 100% 일관된 판단
   - 초당 30개 검사 가능

2️⃣ 카메라와 이미지
   - 사진 = "픽셀의 숫자 격자판"
   - 314만 픽셀 x 3채널 = AI 입력

3️⃣ 이미지 전처리
   - 정규화: 0~1 범위로 변환
   - 크기 조정: 640x640으로 통일
   - 데이터 증강: 다양한 상황 학습

4️⃣ CNN의 기초
   - 작은 필터로 큰 패턴 찾기
   - 층을 쌓아서 복잡한 특징 인식
   - 손실함수로 자신의 오류 파악

5️⃣ 학습 과정
   - 40,000개 이미지로 200회 반복 학습
   - 2~4시간만에 99.2% 정확도 달성
```

---

## 🚀 **다음 2부에서는?**

**"YOLO: 초고속 물체 감지의 비밀"**

2부에서 배울 내용:
- CNN을 넘어 YOLO로 업그레이드
- "이 퓨즈 어디가 망가졌는지" 찾기 (ROI: Region of Interest)
- 1초에 30개 검사하는 비결

---

## 📌 **당신이 기억해야 할 3가지**

```
1. 카메라 = 컴퓨터의 눈
   (같은 이미지도 AI는 314만 개 숫자로 봐요)

2. CNN = AI의 뇌
   (작은 패턴을 모아서 큰 특징을 인식해요)

3. 학습 = 반복
   (40,000개 이미지를 200번 봐야 똑똑해져요)
```

---

## 💬 **자주 묻는 질문 (FAQ)**

**Q: 그럼 AI도 때론 틀리지 않나요?**
A: 맞습니다! 하지만 FM은 AI + 인간 검사원 조합으로 99.5%까지 올렸어요.
   (AI 99.2% + 최종 검증 0.3%)

**Q: AI 학습에 정말 40,000개가 필요해요?**
A: 맞습니다. 적을수록 "과적합"이 되어 새로운 상황에 약해져요.

**Q: 그럼 결함 5가지를 모두 배우려면?**
A: 각 결함별로 1,000~2,000개씩 필요해요. (다음 2부에서!)

---

**1부 완료! 당신은 이제 AI 비전의 기초를 이해했습니다!** 🎓

다음 강의에서는 "YOLO"의 혁신적인 방식을 배워봅시다.
(초당 30개 검사의 비결이 뭘까요? 2부에서!)

---

*이 강의 자료는 FM Safety의 "AI 검수 공정" 투명성 프로젝트입니다.*
*퓨즈 검수의 99.5% 신뢰도는 이런 기술로 이루어집니다!*
